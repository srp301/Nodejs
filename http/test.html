<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div>123</div>
	<script>
		function createXHR(){
			if(typeof XMLHttpRequest != undefined){
				return new XMLHttpRequest();
			}else if(typeof ActiveXObject != undefined){
				if(typeof argument.callee.activeXString != "string"){
					var versions = ["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],
						i,len;
					for(i = 0,len=versions.length;i<len;i++){
						try{
							new ActiveXObject(versions[i]);
							argument.callee.activeXString = versions[i];
							break;
						}catch(e){
							alert("error");
						}
					}
				}
				return new ActiveXObject(argument.callee.activeXString);
			}else{
				throw new Error("No XHR object available.");
			}
		}
		window.onload=function(){
			var a ;
			var xhr = createXHR();
			alert("success");
			xhr.onreadystatechange = function(){
				if(xhr.readystate == 4){
					if((xhr.status>=200 && xhr.status<300)||xhr.status == 304){
						a = xhr.responseText;
						alert(a);
					}else{
						alert("error");
					}
				}
			};
			xhr.open("get","1.txt",false);
			xhr.send(null);
			var b = document.querySelector("div");
			b.innerHTML = a;
		}
	</script>
</body>
</html>